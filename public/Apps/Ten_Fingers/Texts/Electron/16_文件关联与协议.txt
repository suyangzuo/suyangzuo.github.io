File association (letting the OS open your app when a specific file type is double-clicked) and custom protocols (e.g., myapp:// links) enable deep system integration for Electron apps. These features let users interact with your app in natural ways - like opening a .mynote file directly or launching the app from a web link.​
For file association, configure the app to recognize specific file extensions. When using Electron Builder, add a fileAssociations field to package.json: "build": { "fileAssociations": [{ "ext": "mynote", "name": "My Note File", "icon": "icons/mynote.icns" }] }. This tells the OS to associate .mynote files with your app - double-clicking a .mynote file will launch your app and pass the file path as an argument. In the main process, listen for the second-instance event (for Windows) or check process.argv (for macOS/Linux) to get the file path: app.on('second-instance', (event, argv) => { // Windows: argv contains the file path if (process.platform === 'win32') { const filePath = argv.slice(1).find(arg => arg.endsWith('.mynote')); if (filePath) openNoteFile(filePath); } }); and on app ready: if (process.platform !== 'win32') { const filePath = process.argv.find(arg => arg.endsWith('.mynote')); if (filePath) openNoteFile(filePath); }. The openNoteFile function reads the file and loads its content in the app.​
For custom protocols, register a protocol (e.g., myapp) so links like myapp://open?noteId=123 launch your app. In the main process, register the protocol when the app is ready: app.whenReady().then(() => { app.setAsDefaultProtocolClient('myapp'); // Handle protocol requests app.on('open-url', (event, url) => { event.preventDefault(); // Parse the URL to get actions (e.g., open a note) const urlObj = new URL(url); if (urlObj.pathname === '/open') { const noteId = urlObj.searchParams.get('noteId'); if (noteId) openNoteById(noteId); } }); });. On Windows, the second-instance event handles protocol requests: app.on('second-instance', (event, argv) => { const url = argv.find(arg => arg.startsWith('myapp://')); if (url) { event.preventDefault(); const urlObj = new URL(url); // Handle the URL } });.​
Best practices: Test file association after packaging - use Electron Builder's npm run package to generate the app, then double-click a test .mynote file to verify it opens in your app. For custom protocols, test links in browsers and other apps - ensure clicking myapp://open?noteId=123 launches the app and opens the correct note. On macOS, you may need to rebuild the Launch Services database (with /System/Library/Frameworks/CoreServices.framework/Frameworks/LaunchServices.framework/Support/lsregister -kill -r -domain local -domain system -domain user) if file association doesn't work. For security, validate all file paths and protocol URLs - never trust user-provided data (e.g., check that the file path points to a valid .mynote file before opening it).​
In summary, file association and custom protocols make Electron apps feel like native system tools. By configuring these features with Electron Builder and handling events in the main process, you can create seamless interactions between your app and the OS.
