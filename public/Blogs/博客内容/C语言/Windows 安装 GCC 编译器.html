<article class="专题简介">
  <h1 class="简介标题">
    <span><span class="简介标题内名词 中">Windows</span>安装<span class="简介标题内名词 中">GCC</span>编译器</span
    ><span class="原创">原创</span>
  </h1>
  <div class="简介信息">
    <section class="简介信息文本">
      <p class="作者">
        <span class="作者前缀 前缀">作者：</span>
        <span class="作者姓名">苏扬</span>
      </p>
      <p class="日期">
        <span class="日期前缀 前缀">日期：</span>
        <span class="日期文本"><span class="日期文本-数字 日期文本-年">2024</span>年<span class="日期文本-数字 日期文本-月">1</span>月<span class="日期文本-数字 日期文本-日">7</span>日</span>
      </p>
    </section>
    <section class="简介信息图像">
      <img src="/Images/Contributors/苏扬.jpg" alt="苏扬" />
    </section>
  </div>
  <ul class="联系方式列表">
    <li class="联系方式项">
      <a class="联系方式链接" href="mailto:suyangzuo@gmail.com" target="_blank">
        <i class="fa-solid fa-envelope"></i>
      </a>
    </li>
    <li class="联系方式项">
      <a class="联系方式链接" href="https://github.com/suyangzuo" target="_blank"
        ><i class="fa-brands fa-github"></i
      ></a>
    </li>
    <li class="联系方式项">
      <a class="联系方式链接" href="https://www.deviantart.com/suyangzuo" target="_blank"
        ><i class="fa-brands fa-deviantart"></i
      ></a>
    </li>
    <li class="联系方式项">
      <a class="联系方式链接" href="https://dev.to/suyangzuo" target="_blank"><i class="fa-brands fa-dev"></i></a>
    </li>
    <li class="联系方式项">
      <a class="联系方式链接" href="https://www.freecodecamp.org/suyangzuo" target="_blank"
        ><i class="fa-brands fa-free-code-camp"></i
      ></a>
    </li>
    <li class="联系方式项">
      <a class="联系方式链接" href="https://codepen.io/suyangzuo" target="_blank"
        ><i class="fa-brands fa-codepen"></i
      ></a>
    </li>
    <li class="联系方式项">
      <a class="联系方式链接" href="https://dribbble.com/suyangzuo" target="_blank"
        ><i class="fa-brands fa-dribbble"></i
      ></a>
    </li>
    <li class="联系方式项">
      <a class="联系方式链接" href="https://www.artstation.com/user-7893655" target="_blank"
        ><i class="fa-brands fa-artstation"></i
      ></a>
    </li>
    <li class="联系方式项">
      <a class="联系方式链接" href="https://codesandbox.io/u/suyangzuo" target="_blank">
        <img src="/Images/Page-Logos/CodeSandbox.png" alt="CodeSandbox"
      /></a>
    </li>
  </ul>
</article>
<div class="专题正文区">
  <article class="正文分区">
    <h2 class="分区标题 分区2级标题">编译器简介</h2>

    <h3 class="分区标题 分区3级标题">常见<span class="行内专业名词">C语言</span>编译器</h3>
    <table class="表格">
      <caption class="表格标题">
        常见<span class="行内代码">C/C++</span
        >编译器
      </caption>
      <thead class="表头区">
        <tr>
          <th style="width: 4em">名称</th>
          <th style="width: 7em">可执行文件</th>
          <th>官方网站</th>
        </tr>
      </thead>
      <tbody class="表身区">
        <tr>
          <th>GCC</th>
          <td><span class="行内代码">gcc.exe</span></td>
          <td>
            <a class="超链接" href="https://gcc.gnu.org/" target="_blank">https://gcc.gnu.org/</a>
          </td>
        </tr>
        <tr>
          <th>Clang</th>
          <td><span class="行内代码">clang.exe</span></td>
          <td>
            <a class="超链接" href="https://clang.llvm.org/" target="_blank">https://clang.llvm.org/</a>
          </td>
        </tr>
        <tr>
          <th>MSVC</th>
          <td><span class="行内代码">cl.exe</span></td>
          <td>
            <a
              class="超链接"
              target="_blank"
              href="https://learn.microsoft.com/zh-cn/cpp/build/reference/compiling-a-c-cpp-program"
              >https://learn.microsoft.com/zh-cn/cpp/build/reference/compiling-a-c-cpp-program</a
            >
          </td>
        </tr>
      </tbody>
    </table>
  </article>
  <article class="正文分区">
    <h2 class="分区标题 分区2级标题">编译器历史</h2>

    <h3 class="分区标题 分区3级标题">
      <span class="行内专业名词">C语言</span>及其编译器<span class="强调">不是</span
      ><span class="行内专业名词">Windows</span>原生
    </h3>
    <p class="分区普通文本">
      <span class="行内专业名词">C语言</span>诞生于<span class="强调">1972</span>年，<span class="行内专业名词"
        >Windows 1.0</span
      >发布于<span class="强调">1985</span>年。<span class="行内专业名词">C语言</span>是为了编写<span
        class="行内专业名词"
        >Unix</span
      >系统而设计出来的。因此，最初的 C语言编译器 也不可能是为 Windows 设计的。很长一段时间，编译器都运行在
      <span class="行内专业名词">Unix-like</span>系统上<span class="附加说明">包括诞生于 1991 年的 Linux</span>。比如
      <span class="行内专业名词">GCC</span>编译器，是<a
        class="超链接"
        target="_blank"
        href="https://zh.wikipedia.org/wiki/理查德·斯托曼"
        >理查德·斯托曼</a
      >为了引导<a class="超链接" href="https://zh.wikipedia.org/wiki/GNU" target="_blank">GNU 操作系统</a
      >开发的编译器。<br />
      然而，随着时间的推移，Windows 变得越来越受欢迎，但是 Windows 上却没有一个好的编译器！怎么办呢？当然是移植！
    </p>

    <h3 class="分区标题 分区3级标题"><span class="行内专业名词">GCC</span>移植项目</h3>
    <p class="分区普通文本">比较有名的项目主要有 2 个：</p>
    <ul class="分区列表">
      <li class="分区列表项">
        <a class="超链接" target="_blank" href="https://www.cygwin.com/">Cygwin</a>
      </li>
      <li class="分区列表项">
        <a class="超链接" target="_blank" href="https://www.mingw-w64.org/">Mingw-w64</a
        ><span class="附加说明">我们就用这个</span>
      </li>
    </ul>
    <section class="提醒">
      <h3 class="提醒标题">小知识</h3>
      <p>
        Mingw<span class="附加说明">Minimalist GNU for Windows</span>项目，又称<span class="行内专业名词">Mingw32</span
        >，诞生于 1998 年，是将<span class="行内专业名词">GCC</span>编译器和 GNU Binutils 移植到 Windows
        平台下的产物。为了支持 64位 操作系统以及新的 API，于 2007 年诞生了新的分支：<span class="行内专业名词"
          >Mingw-w64</span
        >，并独立发展。<br />简而言之，Mingw 项目带来了能在 Windows 系统上运行的 GCC 编译器。
      </p>
    </section>
  </article>
  <article class="正文分区">
    <h2 class="分区标题 分区2级标题">安装编译环境</h2>

    <h3 class="分区标题 分区3级标题"><span class="行内专业名词">MSYS2</span>简介</h3>
    <p class="分区普通文本">
      如何下载 Mingw-w64 项目的编译工具集，是个很让人头大的事情。<a
        class="超链接"
        target="_blank"
        href="https://www.mingw-w64.org/downloads/"
        >官网下载页面</a
      >列出了一个巨大的表格：
    </p>
    <figure class="截图容器">
      <img src="/Images/Blogs/C语言/安装 GCC 编译器/MinGW-w64-管理表.png" alt="Mingw-w64 管理工具表" />
    </figure>
    <p class="分区普通文本">
      有很多的工具包可以用来管理 Mingw-w64，我个人推荐使用<span class="行内专业名词">MSYS2</span>。<br /><span
        class="行内专业名词"
        >MSYS2</span
      >
      是一个工具和库的集合，为开发者提供了一个易于使用的环境，用于构建、安装和运行原生 Windows 软件。
    </p>

    <h3 class="分区标题 分区3级标题">下载<span class="行内专业名词">MSYS2</span></h3>
    <p class="分区普通文本">
      访问<a class="超链接" target="_blank" href="https://www.msys2.org/">MSYS2 官方网站</a>，直接点击下载按钮即可：
    </p>
    <figure class="截图容器">
      <img src="/Images/Blogs/C语言/安装 GCC 编译器/MSYS2-下载.png" alt="下载 MSYS2" />
    </figure>

    <h3 class="分区标题 分区3级标题">安装<span class="行内专业名词">MSYS2</span></h3>
    <ol class="分区列表 有序列表">
      <li class="分区列表项">
        安装路径
        <figure class="截图容器">
          <img src="/Images/Blogs/C语言/安装 GCC 编译器/安装-路径.png" alt="安装路径" />
        </figure>
        <section class="提醒" style="margin-bottom: 50px">
          <h3 class="提醒标题">提醒</h3>
          <p>MSYS2 对安装路径要求比较严格，不能有特殊字符，也不能有空格，只能是字母与数字的组合。</p>
        </section>
      </li>
      <li class="分区列表项">
        完成安装
        <figure class="截图容器">
          <img src="/Images/Blogs/C语言/安装 GCC 编译器/安装-完成.png" alt="完成安装" />
        </figure>
        <section class="提醒" style="margin-bottom: 50px">
          <h3 class="提醒标题">提醒</h3>
          <p class="分区普通文本">
            如<span class="行内截图序号">·图4·</span>所示，完成安装时，有一个选项：<span class="专业名词"
              >立即运行 MSYS2</span
            >。如果勾选，在点击<span class="行内专业名词">完成</span>后，会自动打开一个终端窗口：
          </p>
          <figure class="截图容器">
            <img src="/Images/Blogs/C语言/安装 GCC 编译器/安装-终端.png" alt="完成安装" />
          </figure>
          <p class="分区普通文本">
            MSYS2 主要就是在这个终端中，调用<span class="行内专业名词">Pacman</span
            >包管理器命令，来下载各种工具包。不过，我们并不是非要使用这个终端不可，只要把 Pacman
            可执行文件所在的路径，添加到环境变量，在任何终端都可以调用 Pacman。
          </p>
        </section>
      </li>
      <li class="分区列表项">
        将<span class="行内代码">Pacman.exe</span>所在路径添加到环境变量
        <figure class="截图容器">
          <img src="/Images/Blogs/C语言/安装 GCC 编译器/Pacman-路径.png" alt="Pacman.exe 路径" />
        </figure>
        <p class="分区普通文本">
          <span class="行内代码">pacman.exe</span>的路径是：<span class="代码">MSYS2安装路径\usr\bin</span
          >，将此路径添加到环境变量：
        </p>
        <section class="提醒" style="margin-bottom: 50px">
          <h3 class="提醒标题">提醒</h3>
          <p>
            如何添加环境变量，请参考<a
              class="超链接"
              target="_blank"
              href="/Blogs/index.html?tech=经验之谈&article=编辑环境变量"
              >编辑环境变量</a
            >。
          </p>
        </section>
        <figure class="截图容器">
          <img src="/Images/Blogs/C语言/安装 GCC 编译器/环境变量.png" alt="环境变量" />
        </figure>
        <p class="分区普通文本">
          将路径加入环境变量后，就可以在任意路径下直接调用<span class="行内代码">pacman.exe</span>了。
        </p>
      </li>
    </ol>

    <h3 class="分区标题 分区3级标题">
      使用<span class="行内专业名词">Pacman</span>安装<span class="行内专业名词">Mingw-w64</span>工具集
    </h3>
    <p class="分区普通文本">
      这套工具集里最重要的就是<span class="专业名词"><span class="行内专业名词">GCC</span>编译器</span>和<span
        class="专业名词"
        ><span class="行内专业名词">GDB</span>调试器</span
      >。为了能顺利安装，首先需要找到相关的安装命令。
    </p>
    <ol class="分区列表 有序列表">
      <li class="分区列表项">
        在<a class="超链接" href="https://www.msys2.org/" target="_blank">MSYS2 官方网站</a>查找所需的<span
          class="行内专业名词"
          >包安装命令</span
        >
        <p class="分区普通文本">
          MSYS2 有一个<span class="专业名词">Package Index<span class="附加说明">包索引</span></span
          >页面，列出了所有包的相关信息，包括安装命令。
        </p>
        <figure class="截图容器">
          <img src="/Images/Blogs/C语言/安装 GCC 编译器/MSYS2-包索引菜单.png" alt="MSYS2 包索引菜单" />
        </figure>
        <p class="分区普通文本">点击<span class="行内专业名词">包索引</span>菜单，进入包索引页面。</p>
        <figure class="截图容器">
          <img src="/Images/Blogs/C语言/安装 GCC 编译器/MSYS2-包索引页面获取安装命令.gif" alt="包索引页面" />
        </figure>
        <p class="分区普通文本">
          通过搜索<span class="行内专业名词">gcc</span>关键词，最终获得了<span class="专业名词"
            >mingw-w64-x86_64-gcc</span
          >这个包的安装命令。<span class="强调">注意</span>：包名称里的<span class="行内代码">gcc</span>必须<span
            class="强调"
            >小写</span
          >。
        </p>
      </li>
      <li class="分区列表项">
        使用终端运行包安装命令
        <p class="分区普通文本">
          打开<span class="行内专业名词">Windows 终端</span>，复制或者手动输入刚刚搜索到的安装命令：<span class="代码"
            >pacman -S mingw-w64-x86_64-gcc</span
          >，就可以开始安装了。
        </p>
        <figure class="截图容器">
          <img src="/Images/Blogs/C语言/安装 GCC 编译器/安装Mingw-w64-gcc.gif" alt="包名称前缀" />
        </figure>
        <p class="分区普通文本">
          安装过程中，会询问<span class="代码">Proceed with installation? [Y/n]</span
          ><span class="附加说明">继续安装吗？</span>，输入<span class="行内代码">y</span>，按回车键，即可开始安装。
        </p>
      </li>
      <li class="分区列表项">
        <span class="专业名词"><span class="行内专业名词">GDB</span>调试器</span>的安装命令也可以用类似的搜索方式找到：
        <figure class="截图容器">
          <img src="/Images/Blogs/C语言/安装 GCC 编译器/GDB调试器安装命令.png" alt="GDB调试器安装命令" />
        </figure>
        <p class="分区普通文本">在终端运行<span class="代码">pacman -S mingw-w64-x86_64-gdb</span>进行安装。</p>
      </li>
    </ol>

    <h3 class="分区标题 分区3级标题">调用<span class="行内专业名词">GCC</span>编译器</h3>
    <ol class="分区列表 有序列表">
      <li class="分区列表项">
        将<span class="行内代码">gcc.exe</span>所在路径添加到环境变量
        <figure class="截图容器">
          <img src="/Images/Blogs/C语言/安装 GCC 编译器/GCC路径.png" alt="gcc.exe 路径" />
        </figure>
        <p class="分区普通文本">
          <span class="行内代码">gcc.exe</span>的路径是：<span class="代码">MSYS2安装路径\mingw64\bin</span
          >，将此路径添加到环境变量：
        </p>
        <figure class="截图容器">
          <img src="/Images/Blogs/C语言/安装 GCC 编译器/GCC环境变量.png" alt="将 gcc.exe 路径添加到环境变量" />
        </figure>
      </li>
      <li class="分区列表项">
        调用<span class="行内代码">gcc.exe</span>
        <p class="分区普通文本">
          打开<span class="行内专业名词">Windows 终端</span>，输入<span class="代码">gcc --version</span
          ><span class="附加说明"
            ><span class="行内代码">--version</span> 是查看版本的参数，几乎所有编程开发工具都可以调用这个参数。</span
          >
        </p>
        <figure class="截图容器">
          <img src="/Images/Blogs/C语言/安装 GCC 编译器/GCC版本.gif" alt="GCC 版本" />
        </figure>
        <p class="分区普通文本">
          只要出现白色文字信息，就表示<span class="行内代码">gcc.exe</span>已经可以成功调用了，我们可以看到，图中安装的
          GCC 版本是：13.2.0。如果出现以下错误信息：
        </p>
        <figure class="截图容器">
          <img src="/Images/Blogs/C语言/安装 GCC 编译器/GCC错误.png" alt="GCC 错误" />
        </figure>
        <p class="分区普通文本">只要出现红色错误信息，最可能的问题有：</p>
        <ul class="分区列表">
          <li class="分区列表项">没有安装 Mingw-w64 编译工具集</li>
          <li class="分区列表项">环境变量错误，仔细检查添加的路径是否正确</li>
          <li class="分区列表项">在添加环境变量之前，就启动了终端，添加之后没有重启终端</li>
        </ul>
      </li>
    </ol>
  </article>
</div>
