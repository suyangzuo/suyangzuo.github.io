Vue's built-in directives (like v-if, v-for, and v-bind) handle common DOM interactions, but sometimes you need custom behavior--like focusing an input on page load, restricting input to numbers, or adding scroll animations. Vue lets you create custom directives to encapsulate these reusable DOM operations, keeping your component code clean. This article explains how to build and use custom directives in Vue.​
Custom directives in Vue are defined with a set of lifecycle hooks that trigger at different stages of the directive's lifecycle. The most common hooks are mounted (called when the directive is attached to an element), updated (called when the element's data changes), and unmounted (called when the directive is removed from the element). Each hook receives the DOM element as the first argument, making it easy to manipulate the element directly.​
To create a global custom directive (available in all components), use app.directive() in your main app file. For example, a v-focus directive that focuses an input when it's mounted would use the mounted hook to call element.focus(). Once defined, you can use it in any component's template with <input v-focus>.​
For component-specific directives (only used in one component), define a directives option in the component. This is useful for directives that aren't needed globally--like a v-number-only directive that restricts input to numeric values, which might only be used in a form component.​
Custom directives can also accept values and modifiers to make them flexible. For example, a v-scroll directive that scrolls an element to a position could take a value (the target scroll position) and a modifier (like smooth for smooth scrolling). The value is accessible in the directive hooks via the second argument, and modifiers via the third argument.​
Common use cases for custom directives include form input restrictions, UI animations, accessibility enhancements (like auto-focusing inputs for screen readers), and third-party library integrations (like initializing a date picker on an input). By encapsulating these behaviors in directives, you avoid repeating DOM manipulation code across components.​
It's important to remember that custom directives are for DOM-focused logic--if your logic is more about component state or reactivity, a composable or mixin is a better choice. Directives should be used when you need to directly manipulate DOM elements in a reusable way.​
In short, Vue custom directives let you extend Vue's built-in functionality to handle unique DOM interactions. They're easy to create, flexible with values and modifiers, and help keep your component code focused on UI rather than repetitive DOM operations.
